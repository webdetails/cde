<div class="container">
<div class="span-24">
  <h1>Dashboard Module Sample</h1></div>

  <p>Require dashboards as AMD modules using RequireJS.</p>
  <div id="content1" class="content"></div>
  
  <hr>
  
  <p>Require the same dashboard but using the special URL parameter <code>alias</code> to avoid conflicts in HTML element ids.</p>
  <div id="content2" class="content"></div>

</div>

<script language="javascript" type="text/javascript">
  require([
    '/pentaho/plugin/pentaho-cdf-dd/api/renderer/getDashboard?path=%2Fpublic%2Fplugin-samples%2Fpentaho-cdf-dd%2Fpentaho-cdf-dd-require%2Fcde_sample1.wcdf',
    '/pentaho/plugin/pentaho-cdf-dd/api/renderer/getDashboard?path=%2Fpublic%2Fplugin-samples%2Fpentaho-cdf-dd%2Fpentaho-cdf-dd-require%2Fcde_sample1.wcdf&alias=foo'],
   function(SampleDash, SampleDashFoo) {

    var sampleDash = new SampleDash();
    sampleDash.render("content1");
    sampleDash.init();
    
    var sampleDashFoo = new SampleDashFoo();
    sampleDashFoo.render("content2");
    sampleDashFoo.init();
        
    //Linking a fireChange in one dashboard to a setParameter on the other
//    sampleDash.on("cdf productLine:fireChange", function (evt) {
//            sampleDashFoo.fireChange("productLine", evt.value);
//        });    
    
    
 });
</script>
